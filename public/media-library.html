<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–µ–¥–∏–∞—Ç–µ–∫–∞ - –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</title>
    <link rel="stylesheet" href="/public/css/admin.css">
    <link rel="stylesheet" href="/public/css/media-library.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üñºÔ∏è</text></svg>">
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <nav class="admin-nav">
                <div class="admin-title">üñºÔ∏è –ú–µ–¥–∏–∞—Ç–µ–∫–∞</div>
                <div class="admin-actions">
                    <a href="/admin" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫ –º–µ—Å—Ç–∞–º</a>
                    <button id="uploadMediaBtn" class="btn btn-primary">üìÅ –ó–∞–≥—Ä—É–∑–∏—Ç—å</button>
                    <button id="logoutBtn" class="btn btn-danger">–í—ã–π—Ç–∏</button>
                </div>
            </nav>
        </header>

        <main class="admin-content">
            <div class="media-library-page">
                <!-- –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ -->
                <div class="media-toolbar">
                    <div class="toolbar-left">
                        <button id="selectAllBtn" class="btn btn-outline">–í—ã–±—Ä–∞—Ç—å –≤—Å–µ</button>
                        <button id="deselectAllBtn" class="btn btn-outline">–°–Ω—è—Ç—å –≤—ã–¥–µ–ª–µ–Ω–∏–µ</button>
                        <button id="deleteSelectedBtn" class="btn btn-danger" disabled>üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ</button>
                    </div>
                    <div class="toolbar-right">
                        <div class="search-box">
                            <input type="text" id="searchMedia" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—è–º..." class="form-control">
                        </div>
                        <select id="sortMedia" class="form-control">
                            <option value="newest">–°–Ω–∞—á–∞–ª–∞ –Ω–æ–≤—ã–µ</option>
                            <option value="oldest">–°–Ω–∞—á–∞–ª–∞ —Å—Ç–∞—Ä—ã–µ</option>
                            <option value="name">–ü–æ –∏–º–µ–Ω–∏</option>
                            <option value="size">–ü–æ —Ä–∞–∑–º–µ—Ä—É</option>
                        </select>
                    </div>
                </div>

                <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                <div class="media-stats">
                    <span id="selectedCount">–í—ã–±—Ä–∞–Ω–æ: 0</span>
                    <span id="totalCount">–í—Å–µ–≥–æ: 0</span>
                    <span id="totalSize">–û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: 0</span>
                </div>

                <!-- –°–µ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π -->
                <div class="media-grid-container">
                    <div id="mediaGrid" class="media-grid">
                        <div class="loading-container">
                            <div class="loading">–ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞—Ç–µ–∫–∏...</div>
                        </div>
                    </div>
                </div>

                <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
                <div class="pagination" id="pagination">
                    <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è –±—É–¥–µ—Ç –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                </div>
            </div>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ -->
    <div id="imageViewerModal" class="modal">
        <div class="modal-content image-viewer-content">
            <div class="image-viewer-header">
                <div class="image-info">
                    <span id="viewerImageName">image.jpg</span>
                    <span id="viewerImageSize">0 KB</span>
                </div>
                <div class="viewer-controls">
                    <button id="prevImage" class="btn btn-outline" title="–ü—Ä–µ–¥—ã–¥—É—â–µ–µ (‚Üê)">‚¨ÖÔ∏è</button>
                    <span id="imageCounter">1 / 10</span>
                    <button id="nextImage" class="btn btn-outline" title="–°–ª–µ–¥—É—é—â–µ–µ (‚Üí)">‚û°Ô∏è</button>
                    <button id="downloadImage" class="btn btn-outline" title="–°–∫–∞—á–∞—Ç—å">üì•</button>
                    <button id="cropImage" class="btn btn-outline" title="–û–±—Ä–µ–∑–∞—Ç—å">‚úÇÔ∏è</button>
                    <button class="close" data-modal="imageViewerModal" title="–ó–∞–∫—Ä—ã—Ç—å (Esc)">‚úï</button>
                </div>
            </div>
            
            <div class="image-viewer-body">
                <div class="image-container">
                    <img id="viewerImage" src="" alt="">
                    <div class="crop-overlay" id="cropOverlay" style="display: none;">
                        <div class="crop-area" id="cropArea"></div>
                        <div class="crop-controls">
                            <button id="applyCrop" class="btn btn-success">–ü—Ä–∏–º–µ–Ω–∏—Ç—å</button>
                            <button id="cancelCrop" class="btn btn-danger">–û—Ç–º–µ–Ω–∞</button>
                        </div>
                    </div>
                </div>
                
                <div class="image-details">
                    <div class="detail-section">
                        <h4>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
                        <div class="detail-item">
                            <span class="detail-label">–ò–º—è —Ñ–∞–π–ª–∞:</span>
                            <span id="detailFilename">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">–†–∞–∑–º–µ—Ä:</span>
                            <span id="detailSize">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">–ó–∞–≥—Ä—É–∂–µ–Ω–æ:</span>
                            <span id="detailUploaded">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">–†–∞–∑–º–µ—Ä—ã:</span>
                            <span id="detailDimensions">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">–¢–∏–ø:</span>
                            <span id="detailType">-</span>
                        </div>
                    </div>
                    
                    <div class="detail-section">
                        <h4>URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</h4>
                        <div class="url-container">
                            <input type="text" id="imageUrl" readonly class="form-control">
                            <button id="copyUrl" class="btn btn-outline">üìã</button>
                        </div>
                    </div>
                    
                    <div class="detail-section">
                        <h4>–î–µ–π—Å—Ç–≤–∏—è</h4>
                        <div class="action-buttons">
                            <button id="replaceImage" class="btn btn-warning">üîÑ –ó–∞–º–µ–Ω–∏—Ç—å</button>
                            <button id="deleteCurrentImage" class="btn btn-danger">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å</button>
                            <input type="file" id="replaceFileInput" accept="image/*" style="display: none;">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∑–∞–≥—Ä—É–∑–∫–∏ -->
    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>üìÅ –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π</h3>
                <button class="close" data-modal="uploadModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="upload-zone" id="uploadZone">
                    <div class="upload-placeholder">
                        <div class="upload-icon">üìÅ</div>
                        <p>–ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—é–¥–∞</p>
                        <p class="upload-hint">–∏–ª–∏ –Ω–∞–∂–º–∏—Ç–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ —Ñ–∞–π–ª–æ–≤</p>
                        <p class="upload-restrictions">–ú–∞–∫—Å–∏–º—É–º 10 —Ñ–∞–π–ª–æ–≤, –¥–æ 5MB –∫–∞–∂–¥—ã–π</p>
                    </div>
                    <input type="file" id="bulkUploadInput" multiple accept="image/*" style="display: none;">
                </div>
                
                <div id="uploadQueue" class="upload-queue" style="display: none;">
                    <h4>–û—á–µ—Ä–µ–¥—å –∑–∞–≥—Ä—É–∑–∫–∏:</h4>
                    <div id="queueList"></div>
                    <button id="startUpload" class="btn btn-success">–ù–∞—á–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É</button>
                </div>
            </div>
        </div>
    </div>

    <script src="/public/js/media-library.js"></script>
</body>
</html>